<!DOCTYPE html>
<html class="no-js gt-ie8" dir="ltr" lang="en"><!--<![endif]-->
<head>
	<meta charset="utf-8" >
			<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" >
			<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
			<script src="http://fast.fonts.net/jsapi/124d48dd-e515-4302-8bfb-1d5c1e3da916.js"></script>
			<link rel="stylesheet" href="http://cdn.ttgtmedia.com/rms/ux/responsive/css/libs/normalize.css">
			<link rel="stylesheet" href="http://cdn.ttgtmedia.com/rms/ux/responsive/css/libs/icomoon.css">
			<link rel="stylesheet" href="http://cdn.ttgtmedia.com/rms/ux/responsive/css/libs/jquery-ui-1.10.3.custom.min.css">
			<link rel="stylesheet" href="http://cdn.ttgtmedia.com/rms/ux/responsive/css/v8-legacy.css">
			<link rel="stylesheet" href="http://cdn.ttgtmedia.com/rms/ux/responsive/css/main.css?v=6.53">

</head>
<body id="home">
	<div id="site-container" class="site-container">
	</div>
<div class="header-gradient">
	<img src="http://cdn.ttgtmedia.com/rms/ux/responsive/img/temp/home_gradient_desktop.png" />
</div>
<div id="main-content" class="main-content">
		<article id="content-columns" class="content-columns">
<div>
<header class="homepage-header">
	<h1 class="homepage-title searchitchannel"><span class="logo-search">Search</span><span class="logo-1">IT</span><span class="logo-2">Channel</span></h1>
</header>
</div>
<div id="content-left" class="content-left">
		<div><div class="locking-full-bar">
				<div class="locking-left-bar">
				</div>
				<aside class="resources-bar desktop-resources-bar" id="resources-bar">
				</aside>
			</div>
		</div>
</div>
<div id="content-center" class="content-center">
<div><div>
<section class="homepage-section trending-topics-home" id="trending-topics">
		<h2>Trending Topics</h2>
			<ul class="trending-topics-items tt-list-1" id="article-list">
				<!--Inject Template Here-->
			</ul>
		</section>
	</div>
</div>
<div>
<footer id="page-footer">
</footer>
</div>
</div><script src="http://cdn.ttgtmedia.com/rms/ux/responsive/js/responsive-ui.min.js?v=6.53"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js"></script>
</script>
<script>

var template;
$.ajax({
    url: '/articletemplate', //ex. js/templates/mytemplate.handlebars
    cache: true,
    success: function(data) {
      	var source    = data;
        template  = Handlebars.compile(source);
        }               
});  

$.ajax({
	url: '/rss',
	type: 'GET',
 	success: function(data) {
 		console.log(data);
    	$(data).each(function (index, value) {
    		var view = {
				title: value.title,
				description: value.content,
				link: value.link,
				date: value.published
			}
        	var html = template(view);
        	$('#article-list').append(html);
    	});
	}
});

//document.getElementById('article-list').innerHTML += output;

</script>
</body>
</html>
